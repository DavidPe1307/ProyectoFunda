<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- CABECERAS PARA EVITAR CACHÉ DEL LOGIN -->
    <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <script src="https://kit.fontawesome.com/869dc8f5ef.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../css/stylelogin.css" />
    <title>Iniciar Sesión o registrarse | </title>


    <!-- Forzar recarga si se vuelve con la flecha atrás -->
    <script>
        window.addEventListener('pageshow', function (event) {
            if (event.persisted || (window.performance && window.performance.navigation.type === 2)) {
                window.location.reload();
            }
        });
    </script>
</head>

<body>
    <div class="container" id="container">
        <!-- Botones de alternancia para móvil -->
        <div class="mobile-toggle">
            <button id="mobileSignIn" class="active">Iniciar Sesión</button>
            <button id="mobileSignUp">Registrarse</button>
        </div>

        <!-- Mensaje de error o exito  -->
        <div id="messages" class="messages"></div>

        <!-- Formulario de Registro -->
        <div class="form-container sign-up-container">
            <form id="registerForm">
                <h1>Crea tu Cuenta</h1>
                <p id="registerMessage" class="form-message"></p>
                <div class="social-container">
                    <img src="../img/found2one.png" alt="Logo" class="login-icon">
                </div>
                <input type="text" name="usuario" placeholder="Usuario" required/>
                <input type="email" name="email" placeholder="Dirección de correo electrónico" required/>
                <div class="password-container">
                    <input type="password" name="password" id="registerPassword" class="password-input" placeholder="Contraseña" required />
                    <i class="fa fa-eye password-toggle" id="toggleRegisterPassword"></i>
                </div>
                <button type="submit" id="lila">Registrar</button>
            </form>
        </div>

        <!-- Formulario de Inicio de Sesión -->
        <div class="form-container sign-in-container">
            <form action="../database/login.php" method="POST">
                <h1>Iniciar Sesión</h1>
                <div class="social-container">
                    <img src="../img/found2one.png" alt="Logo" class="login-icon">
                </div>
                <p id="loginMessage" class="form-message"></p>
                <input type="text" name="usuario" placeholder="Usuario o Correo electrónico" required/>
                <div class="password-container">
                    <input type="password" name="password" id="loginPassword" class="password-input" placeholder="Contraseña" required/>
                    <i class="fa fa-eye password-toggle" id="toggleLoginPassword"></i>
                </div>
                <a href="#" id="forgot-link">¿Olvidaste tu contraseña?</a>
                <button>Iniciar sesión</button>
            </form>
        </div>

        <!-- Formulario de Recuperación de Contraseña -->
        <div class="form-container forgot-password-container" id="forgotForm" style="display:none;">
            <form id="recoverPasswordForm">
                <h1>¿Olvidaste tu contraseña?</h1>
                <p>Ingrese su correo electrónico</p>
                <div class="social-container">
                    <img src="../img/found2one.png" alt="Logo" class="login-icon">
                </div>
                <input type="email" id="recoverEmail" placeholder="Correo electrónico" required />
                <button type="submit">Enviar enlace de recuperación</button>
                <p id="recoverMessage" class="form-message"></p>
                <p><a href="#" id="backToLogin">← Volver al inicio de sesión</a></p>
            </form>
        </div>

        <div class="overlay-container">
            <div class="overlay">
                <div class="overlay-panel overlay-left">
                    <h1>¡Ya tienes una cuenta!</h1>
                    <p>Inicia sesión con tu cuenta</p>
                    <button class="ghost" id="signIn">Inicia sesión</button>
                    <div class="guest-option">
                        <p>¿Solo quieres echar un vistazo? <a href="interfacemain_invitate.html">Entra como invitado</a></p>
                    </div>
                </div>
                <div class="overlay-panel overlay-right">
                    <h1>¡Hola!</h1>
                    <h1>¿No tienes una cuenta?</h1>
                    <p>Crea tu cuenta</p>
                    <button class="ghost" id="signUp">Registrar</button>
                    <div class="guest-option">
                        <p>¿Solo quieres echar un vistazo? <a href="../database/entrar_como_invitado.php">Entra como invitado</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../js/login.js"></script>
    <script src="../js/forgot_password.js"></script>
    <script src="../js/password_visibility.js"></script>
</body>
</html>
